"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("intl-messageformat"),r=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n,o=t(e),a=t(r);function u(){return u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u.apply(this,arguments)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function s(e,r){return s=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},s(e,r)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,r,t){return l=c()?Reflect.construct:function(e,r,t){var n=[null];n.push.apply(n,r);var o=new(Function.bind.apply(e,n));return t&&s(o,t.prototype),o},l.apply(null,arguments)}function f(e){var r="function"==typeof Map?new Map:void 0;return f=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return l(e,arguments,i(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s(t,e)},f(e)}function m(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r.indexOf(t=a[n])>=0||(o[t]=e[t]);return o}exports.IntlErrorCode=void 0,(n=exports.IntlErrorCode||(exports.IntlErrorCode={})).MISSING_MESSAGE="MISSING_MESSAGE",n.MISSING_FORMAT="MISSING_FORMAT",n.INSUFFICIENT_PATH="INSUFFICIENT_PATH",n.INVALID_MESSAGE="INVALID_MESSAGE",n.INVALID_KEY="INVALID_KEY",n.FORMATTING_ERROR="FORMATTING_ERROR";var v=function(e){var r,t;function n(r,t){var n,o=r;return t&&(o+=": "+t),(n=e.call(this,o)||this).code=void 0,n.originalMessage=void 0,n.code=r,t&&(n.originalMessage=t),n}return t=e,(r=n).prototype=Object.create(t.prototype),r.prototype.constructor=r,s(r,t),n}(f(Error));function p(e,r){return e?Object.keys(e).reduce((function(t,n){return t[n]=u({timeZone:r},e[n]),t}),{}):e}function d(e){return[e.namespace,e.key].filter((function(e){return null!=e})).join(".")}function E(e){console.error(e)}function g(e,r,t){if(!e)throw new Error(void 0);var n=e;return r.split(".").forEach((function(e){var r=n[e];if(null==e||null==r)throw new Error(void 0);n=r})),n}function I(e){var r=e.messages,t=e.namespace,n=e.onError,o=void 0===n?E:n;try{if(!r)throw new Error(void 0);var a=t?g(r,t):r;if(!a)throw new Error(void 0);return a}catch(e){var u=new v(exports.IntlErrorCode.MISSING_MESSAGE,e.message);return o(u),u}}function y(e){var t=e.cachedFormatsByLocale,n=e.defaultTranslationValues,a=e.formats,i=e.getMessageFallback,s=void 0===i?d:i,c=e.locale,l=e.messagesOrError,f=e.namespace,m=e.onError,E=e.timeZone;function I(e,r,t){var n=new v(r,t);return m(n),s({error:n,key:e,namespace:f})}function y(e,i,m){var d;if(l instanceof v)return s({error:l,key:e,namespace:f});var y,M=l;try{y=g(M,e)}catch(r){return I(e,exports.IntlErrorCode.MISSING_MESSAGE,r.message)}var h,w=[f,e,y].filter((function(e){return null!=e})).join(".");if(null!=t&&null!=(d=t[c])&&d[w])h=null==t?void 0:t[c][w];else{if("object"==typeof y)return I(e,exports.IntlErrorCode.INSUFFICIENT_PATH,void 0);try{h=new o.default(y,c,function(e,r){var t=r?u({},e,{dateTime:p(e.dateTime,r)}):e;return u({},t,{date:null==t?void 0:t.dateTime,time:null==t?void 0:t.dateTime})}(u({},a,m),E))}catch(r){return I(e,exports.IntlErrorCode.INVALID_MESSAGE,r.message)}t&&(t[c]||(t[c]={}),t[c][w]=h)}try{var S=h.format(function(e){if(0!==Object.keys(e).length){var t={};return Object.keys(e).forEach((function(n){var o=0,a=e[n];t[n]="function"==typeof a?function(e){var t=a(e);return r.isValidElement(t)?r.cloneElement(t,{key:n+o++}):t}:a})),t}}(u({},n,i)));if(null==S)throw new Error(void 0);return r.isValidElement(S)||Array.isArray(S)||"string"==typeof S?S:String(S)}catch(r){return I(e,exports.IntlErrorCode.FORMATTING_ERROR,r.message)}}function M(e,r,t){var n=y(e,r,t);return"string"!=typeof n?I(e,exports.IntlErrorCode.INVALID_MESSAGE,void 0):n}return M.rich=y,M.raw=function(e){if(l instanceof v)return s({error:l,key:e,namespace:f});var r=l;try{return g(r,e)}catch(r){return I(e,exports.IntlErrorCode.MISSING_MESSAGE,r.message)}},M}function M(e,r){return e===r?void 0:e.slice((r+".").length)}var h=["getMessageFallback","messages","namespace","onError"],w=["onError","getMessageFallback","messages","namespace"];function S(e){var r=e.formats,t=e.locale,n=e.now,o=e.onError,a=void 0===o?E:o,i=e.timeZone;function s(e,r,t,n){var o;try{o=function(e,r){var t;if("string"==typeof r){if(!(t=null==e?void 0:e[r])){var n=new v(exports.IntlErrorCode.MISSING_FORMAT,void 0);throw a(n),n}}else t=r;return t}(t,r)}catch(r){return String(e)}try{return n(o)}catch(r){return a(new v(exports.IntlErrorCode.FORMATTING_ERROR,r.message)),String(e)}}return{dateTime:function(e,n){return s(e,n,null==r?void 0:r.dateTime,(function(r){var n;return!i||null!=(n=r)&&n.timeZone||(r=u({},r,{timeZone:i})),new Intl.DateTimeFormat(t,r).format(e)}))},number:function(e,n){return s(e,n,null==r?void 0:r.number,(function(r){return new Intl.NumberFormat(t,r).format(e)}))},relativeTime:function(e,r){try{if(!r){if(!n)throw new Error(void 0);r=n}var o=e instanceof Date?e:new Date(e),u=r instanceof Date?r:new Date(r),i=function(e){var r,t,n=Math.abs(e);return n<60?(t="second",r=Math.round(e)):n<3600?(t="minute",r=Math.round(e/60)):n<86400?(t="hour",r=Math.round(e/3600)):n<604800?(t="day",r=Math.round(e/86400)):n<2628e3?(t="week",r=Math.round(e/604800)):n<31536e3?(t="month",r=Math.round(e/2628e3)):(t="year",r=Math.round(e/31536e3)),{value:r,unit:t}}((o.getTime()-u.getTime())/1e3),s=i.unit,c=i.value;return new Intl.RelativeTimeFormat(t,{numeric:"auto"}).format(c,s)}catch(r){return a(new v(exports.IntlErrorCode.FORMATTING_ERROR,r.message)),String(e)}}}}function T(){var e=S.apply(void 0,arguments);return{formatDateTime:e.dateTime,formatNumber:e.number,formatRelativeTime:e.relativeTime}}var b=r.createContext(void 0),O=["children","onError","getMessageFallback","messages"];function F(){var e=r.useContext(b);if(!e)throw new Error(void 0);return e}function R(){return new Date}var x=!1;exports.IntlError=v,exports.IntlProvider=function(e){var r=e.children,t=e.onError,n=void 0===t?E:t,o=e.getMessageFallback,i=void 0===o?d:o,s=e.messages,c=m(e,O);return a.default.createElement(b.Provider,{value:u({},c,{messages:s,onError:n,getMessageFallback:i})},r)},exports.createFormatter=S,exports.createIntl=T,exports.createTranslator=function(e){var r=e.onError,t=void 0===r?E:r,n=e.getMessageFallback,o=void 0===n?d:n,a=e.messages,i=e.namespace;return function(e,r){var t=e.getMessageFallback,n=e.messages,o=e.namespace,a=e.onError,i=m(e,h);n=n["!"],o=M(o,"!");var s=y(u({},i,{onError:a,getMessageFallback:t,messagesOrError:I({messages:n,namespace:o,onError:a})})),c=s.rich;function l(){return s.apply(void 0,arguments)}return l.rich=function(e,r,n){var u=c(e,r,n);if("string"!=typeof u){var i=new v(exports.IntlErrorCode.FORMATTING_ERROR,void 0);return a(i),t({error:i,key:e,namespace:o})}return u},l.raw=s.raw,l}(u({},m(e,w),{onError:t,getMessageFallback:o,messages:{"!":a},namespace:i?"!."+i:"!"}))},exports.useFormatter=function(){var e=F(),t=e.formats,n=e.locale,o=e.now,a=e.onError,u=e.timeZone;return r.useMemo((function(){return S({formats:t,locale:n,now:o,onError:a,timeZone:u})}),[t,o,n,a,u])},exports.useIntl=function(){var e=F(),t=e.formats,n=e.locale,o=e.now,a=e.onError,u=e.timeZone;return x||(x=!0,console.warn("`useIntl()` is deprecated and will be removed in the next major version. Please switch to `useFormatter()`.")),r.useMemo((function(){return T({formats:t,locale:n,now:o,onError:a,timeZone:u})}),[t,o,n,a,u])},exports.useLocale=function(){return F().locale},exports.useNow=function(e){var t=null==e?void 0:e.updateInterval,n=F().now,o=r.useState(n||R()),a=o[0],u=o[1];return r.useEffect((function(){if(t){var e=setInterval((function(){u(R())}),t);return function(){clearInterval(e)}}}),[n,t]),a},exports.useTimeZone=function(){return F().timeZone},exports.useTranslations=function(e){return function(e,t,n){var o=F(),a=o.defaultTranslationValues,u=o.formats,i=o.getMessageFallback,s=o.locale,c=o.onError,l=o.timeZone;e=e["!"],t=M(t,"!");var f=r.useRef({}),m=r.useMemo((function(){return I({messages:e,namespace:t,onError:c})}),[e,t,c]);return r.useMemo((function(){return y({cachedFormatsByLocale:f.current,getMessageFallback:i,messagesOrError:m,defaultTranslationValues:a,namespace:t,onError:c,formats:u,locale:s,timeZone:l})}),[i,m,a,t,c,u,s,l])}({"!":F().messages},e?"!."+e:"!")};
//# sourceMappingURL=use-intl.cjs.production.min.js.map
